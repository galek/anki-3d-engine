#include <boost/lexical_cast.hpp>
#include "Exception.h"


//======================================================================================================================
// Constructor                                                                                                         =
//======================================================================================================================
Exception::Exception(const std::string& err_, const char* file_, int line_, const char* func_):
	err(err_),
	file(file_),
	line(line_),
	func(func_)
{}


//======================================================================================================================
// Copy constructor                                                                                                    =
//======================================================================================================================
Exception::Exception(const Exception& e):
	err(e.err),
	file(e.file),
	line(e.line),
	func(e.func)
{}


//======================================================================================================================
// init                                                                                                                =
//======================================================================================================================
const char* Exception::what() const throw()
{
	err = std::string("\n(") + file + ":" + boost::lexical_cast<std::string>(line) + " " + func + ") " + err;
	return err.c_str();
}
