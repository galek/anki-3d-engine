CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

INCLUDE_DIRECTORIES("extern/include")
INCLUDE_DIRECTORIES("extern/include/bullet")
INCLUDE_DIRECTORIES("/usr/include/python2.6")
INCLUDE_DIRECTORIES("/usr/include/freetype2")

LINK_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/extern/lib-x86-64-linux)

IF(${CMAKE_SYSTEM_NAME} STREQUAL Linux)
	ADD_DEFINITIONS("-DPLATFORM_LINUX")
ELSEIF(${CMAKE_SYSTEM_NAME} STREQUAL Windows)
	ADD_DEFINITIONS("-DPLATFORM_WINDOWS")
ENDIF(${CMAKE_SYSTEM_NAME} STREQUAL Linux)


FIND_PACKAGE(Subversion)
IF(Subversion_FOUND)
	Subversion_WC_INFO(${CMAKE_CURRENT_SOURCE_DIR} ER)
	ADD_DEFINITIONS("-DREVISION=${ER_WC_REVISION}")
ELSE(Subversion_FOUND)
	ADD_DEFINITIONS("-DREVISION=???")
ENDIF(Subversion_FOUND)

ADD_DEFINITIONS("-DMATH_INTEL_SIMD -pedantic-errors -pedantic -ansi -Wall -Winline -W -Wwrite-strings -Wno-unused -Wno-long-long -fsingle-precision-constant -msse4")

IF(CMAKE_BUILD_TYPE STREQUAL Release OR CMAKE_BUILD_TYPE STREQUAL RelWithDebInfo)
	ADD_DEFINITIONS("-DBOOST_DISABLE_ASSERTS -mtune=core2 -ffast-math")
ENDIF(CMAKE_BUILD_TYPE STREQUAL Release OR CMAKE_BUILD_TYPE STREQUAL RelWithDebInfo)
	

ADD_SUBDIRECTORY(src)

